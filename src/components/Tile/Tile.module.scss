$tile-blank: white;
$tile-blank-dark: black;
$tile-filled: gray;
$tile-filled-dark: rgb(75, 75, 75);
$tile-notpresent: rgb(53, 53, 53);
$tile-notpresent-dark: black;
$tile-present: #f1d453;
$tile-present-dark: #b59f3b;
$tile-correct: #6fb968;
$tile-correct-dark: #538d4e;

$flip-time: 0.5s;
$pulse-time: 0.1s;
$delay-modifier: 0.2s;

@mixin tileDelay($parent, $number-modifier) {
	@extend .#{$parent};
	transition: all $flip-time linear $number-modifier * $delay-modifier,
		background-color 0s $number-modifier * $delay-modifier + 0.5 *
			$flip-time;
}

.TileLight {
	display: flex;
	justify-content: center;
	align-items: center;

	border: 2px solid gray;
	color: white;

	min-width: 7vh;
	min-height: 7vh;
	width: 12vw;
	height: 12vw;
	max-width: 10vh;
	max-height: 10vh;

	font-size: xx-large;

	&_DelayZero {
		@include tileDelay(TileLight, 0);
	}
	&_DelayOne {
		@include tileDelay(TileLight, 1);
	}
	&_DelayTwo {
		@include tileDelay(TileLight, 2);
	}
	&_DelayThree {
		@include tileDelay(TileLight, 3);
	}
	&_DelayFour {
		@include tileDelay(TileLight, 4);
	}
	&__Default {
		background-color: $tile-blank;
		transition: all $flip-time linear, background-color 0s;
	}
	&__Filled {
		@extend .TileLight__Default;
		background-color: $tile-filled;
		animation: pulse $pulse-time linear;
		@keyframes pulse {
			0% {
				transform: scale(1, 1);
			}
			50% {
				transform: scale(1.1, 1.1);
			}
			100% {
				transform: scale(1, 1);
			}
		}
	}
	&__NotPresent {
		@extend .TileLight;
		transform: scaleY(-1);
		-webkit-transform: scaleY(-1);
		background-color: $tile-notpresent;
	}
	&__Present {
		@extend .TileLight__NotPresent;
		background-color: $tile-present;
	}
	&__Correct {
		@extend .TileLight__NotPresent;
		background-color: $tile-correct;
	}
}

.TileDark {
	@extend .TileLight;
	&_DelayZero {
		@include tileDelay(TileDark, 0);
	}
	&_DelayOne {
		@include tileDelay(TileDark, 1);
	}
	&_DelayTwo {
		@include tileDelay(TileDark, 2);
	}
	&_DelayThree {
		@include tileDelay(TileDark, 3);
	}
	&_DelayFour {
		@include tileDelay(TileDark, 4);
	}
	&__Default {
		@extend .TileLight__Default;
		background-color: $tile-blank-dark;
	}
	&__Filled {
		@extend .TileLight__Filled;
		background-color: $tile-filled-dark;
	}
	&__NotPresent {
		@extend .TileLight__NotPresent;
		color: white;
		background-color: $tile-notpresent-dark;
	}
	&__Present {
		@extend .TileDark__NotPresent;
		background-color: $tile-present-dark;
	}
	&__Correct {
		@extend .TileDark__NotPresent;
		background-color: $tile-correct-dark;
	}
}

@mixin tileDelay($time-modifier) {
	@extend .Letter;
	transition-delay: ($delay-modifier * $time-modifier) + (0.5 * $flip-time);
}

.Letter {
	color: white;
	font-weight: bolder;
	transition: all 0s (0.5 * $flip-time);
	&_DelayZero {
		@include tileDelay(0);
	}
	&_DelayOne {
		@include tileDelay(1);
	}
	&_DelayTwo {
		@include tileDelay(2);
	}
	&_DelayThree {
		@include tileDelay(3);
	}
	&_DelayFour {
		@include tileDelay(4);
	}
	&__Flipped {
		@extend .Letter;
		transform: scaleY(-1);
		-webkit-transform: scaleY(-1);
	}
}
